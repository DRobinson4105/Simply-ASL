import numpy as np
from math import floor
import matplotlib.pyplot as plt
import cv2

def generate_scene(keypoint_frame):
    width = 960
    height = 960

    image = np.zeros((height + 150, width + 150, 3), np.uint8)\

    min_width, min_height = [min(k) for k in zip(*keypoint_frame)]
    max_width, max_height = [max(k) for k in zip(*keypoint_frame)]

    frame_width = max_width - min_width
    frame_height = max_height - min_height

    xlist = []
    ylist = []

    #max_width / width
    #max_height / height
    count = 0
    for i, j in (keypoint_frame):
        xlist.append(-i + max_width)
        ylist.append(-j + max_height)

        if(count >= 92):
            cv2.circle(image,(floor(((i - min_width) / frame_width) * width),floor(((j - min_height) / frame_height) * height)), 3, (0,255,255), -1)

        else :
            cv2.circle(image,(floor(((i - min_width) / frame_width) * width),floor(((j - min_height) / frame_height) * height)), 3, (255,255,255), -1)

        count += 1

    # for i in range(len(keypoint_frame) - 1):
    #     cv2.line(image,
    #             (floor(((keypoint_frame[i][0] - min_width) / frame_width) * width), floor(((keypoint_frame[i][1] - min_height) / frame_height) * height)),
    #             (floor(((keypoint_frame[i + 1][0] - min_width) / frame_width) * width), floor(((keypoint_frame[i + 1][1] - min_height) / frame_height) * height)),
    #             (0, 255, 0), 3)

    cv2.imwrite("frame.png", image)

    plt.scatter(xlist, ylist)
    plt.savefig('scatter_plot.png')

list = [[
    1485.2605617614709,
    1165.7657611148325
],
[
    1595.2405902892642,
    1052.086884125059
],
[
    1319.8729061284125,
    1056.9253122447021
],
[
    1759.7768369238938,
    1196.2027943607636
],
[
    1093.263886222206,
    1208.8998356035527
],
[
    2079.2258501190945,
    2014.5965165633488
],
[
    822.0647147970558,
    1819.4905926027136
],
[
    2475.151858507709,
    3025.58068873707
],
[
    443.599671076837,
    2741.806653725107
],
[
    2367.8262507385375,
    3596.243064584627
],
[
    1077.6839940132309,
    1884.4797116686022
],
[
    1721.1290561336027,
    3763.1539797848927
],
[
    838.6860509688886,
    3547.516763539291
],
[
    2366.450906894536,
    3583.375132256804
],
[
    270.23277809341425,
    3851.044524515377
],
[
    2879.932044500105,
    3712.4271359541253
],
[
    2905.4031554618896,
    3705.011080828659
],
[
    2891.145892325945,
    3596.200282393659
],
[
    2972.560821720306,
    3778.0804485347926
],
[
    2877.521444431599,
    3601.04275105356
],
[
    1621.8397735508538,
    1235.6738814266873
],
[
    1433.2619025090326,
    1285.0646136656405
],
[
    2901.4187279422013,
    3634.150700249508
],
[
    1115.7545302121353,
    1120.7368515041967
],
[
    1126.0583045201583,
    1195.4753782748885
],
[
    1138.7094925685024,
    1269.7714064676093
],
[
    1158.8352305577646,
    1336.5686672989937
],
[
    1191.2402973193284,
    1391.6075994610783
],
[
    1255.5161434346373,
    1449.0104853529847
],
[
    1310.7035108535156,
    1486.3369962572174
],
[
    1388.1115226791735,
    1539.1066897067076
],
[
    1470.5456439773138,
    1549.0585403623827
],
[
    1540.5539536971346,
    1531.2964442272396
],
[
    1598.1798850020773,
    1502.2379482458327
],
[
    1653.5257537187763,
    1444.35316850844
],
[
    1700.1987931634353,
    1390.622420674621
],
[
    1727.372722122077,
    1319.962046838245
],
[
    1740.8481883160694,
    1237.9325434309594
],
[
    1743.9652615115729,
    1165.7063414051545
],
[
    1742.7087936409362,
    1089.2997845443879
],
[
    1196.8655464573721,
    1021.0090687299621
],
[
    1241.7762704210072,
    991.6463438350047
],
[
    1294.9686871957697,
    978.2161227945016
],
[
    1351.9560915006332,
    978.3675836344705
],
[
    1404.6551551366838,
    988.0907872473053
],
[
    1520.1365590404857,
    987.035255524589
],
[
    1559.0863490604079,
    976.2620462220384
],
[
    1607.6541453858458,
    972.1825266343999
],
[
    1652.5973549758364,
    979.1027837023139
],
[
    1695.8251331023266,
    1006.9189323937776
],
[
    1470.7651896938896,
    1058.3020669179368
],
[
    1476.5767849523436,
    1096.0215203622683
],
[
    1483.3775853825568,
    1132.996385424628
],
[
    1488.577784493712,
    1176.098254430703
],
[
    1411.526638578087,
    1228.5110731038685
],
[
    1447.059369087336,
    1233.337973799834
],
[
    1482.433003323923,
    1236.7799199026294
],
[
    1514.7052717008264,
    1233.527047316029
],
[
    1546.0051131965056,
    1226.4536062365655
],
[
    1260.839621332986,
    1067.6278715124463
],
[
    1297.6381013204018,
    1047.9925096100014
],
[
    1341.5058343865912,
    1044.8763617753689
],
[
    1384.962082852283,
    1066.5133954377297
],
[
    1341.952541497716,
    1074.0975489218736
],
[
    1299.9261365715238,
    1074.03367273397
],
[
    1541.1789152708234,
    1065.4280350207555
],
[
    1573.0737316081718,
    1042.2128732890624
],
[
    1612.9545382603378,
    1041.5131467878964
],
[
    1652.7388399931851,
    1062.13541064838
],
[
    1614.5700139504374,
    1071.4151055481798
],
[
    1577.6043460325127,
    1070.6033134745617
],
[
    1338.6584037893317,
    1323.9083474367853
],
[
    1396.1541545989176,
    1301.0489909266435
],
[
    1454.2370265822624,
    1292.1602777165235
],
[
    1482.2120296677276,
    1291.338978489357
],
[
    1509.7298540848533,
    1288.5947386175976
],
[
    1565.8860785359057,
    1292.0454788374254
],
[
    1612.0294713765106,
    1308.17899956972
],
[
    1575.866900499871,
    1331.755433136254
],
[
    1533.232431285493,
    1345.7354647504053
],
[
    1486.2435791948765,
    1349.316452973847
],
[
    1434.2227868783284,
    1344.8889715663358
],
[
    1383.1132580292806,
    1336.5630818462841
],
[
    1351.00508371371,
    1322.7174576154234
],
[
    1417.357749011348,
    1314.4902046134366
],
[
    1483.3811552316065,
    1313.94187953253
],
[
    1544.0650192327912,
    1307.9416772492668
],
[
    1600.7726663671024,
    1308.9607252702408
],
[
    1546.8818681231887,
    1317.5020708575848
],
[
    1484.8060009824358,
    1319.7211593352113
],
[
    1417.1768766594805,
    1319.6647106110172
],
[
    2260.7864688833033,
    3708.0747610596463
],
[
    2350.0236515160555,
    3616.6606275452705
],
[
    1400.143698902245,
    1787.3307442943842
],
[
    1436.8435320609115,
    1760.8263451137673
],
[
    1444.4289853123178,
    1752.7332618162327
],
[
    1440.5133368843258,
    1749.16356333763
],
[
    1541.8483809626696,
    1583.9780776669877
],
[
    1583.6034773610609,
    1603.0879316570417
],
[
    1600.473037036838,
    1555.9961479855228
],
[
    1417.795055519975,
    1730.4172391313841
],
[
    1530.0388443253505,
    1572.5078157502066
],
[
    1556.019848726446,
    1564.4533552639623
],
[
    1663.8281000871798,
    1508.2013103090958
],
[
    1352.9953935540607,
    1600.979007321158
],
[
    1510.7115625736078,
    1564.1795492417668
],
[
    1532.7202769417845,
    1554.26869818577
],
[
    1664.1650938375005,
    1500.3489956751755
],
[
    1272.91451674969,
    1569.276571937928
],
[
    1291.966682134645,
    1567.0047187581076
],
[
    1246.380780720683,
    1569.3415771003156
],
[
    1246.40672162378,
    1573.4544905647926
],
[
    1090.503797931704,
    1877.5895209737855
],
[
    1115.9819295966208,
    1727.6053796300116
],
[
    1138.9026214021078,
    1585.1167969832522
],
[
    1212.429731330527,
    1491.1781576835056
],
[
    1241.890862575513,
    1429.5255741554438
],
[
    1336.0964421211056,
    1580.7185500729029
],
[
    1428.6304993465137,
    1536.7011421801121
],
[
    1543.9937412467598,
    1505.999691226114
],
[
    1618.574313629838,
    1488.8184821727814
],
[
    1391.1000813088767,
    1648.9486577834568
],
[
    1503.5373559327631,
    1587.1697479526201
],
[
    1589.4410135226121,
    1548.2021835065061
],
[
    1655.9111268539955,
    1511.7378525896984
],
[
    1416.5585788040185,
    1720.335378150934
],
[
    1521.8440178411074,
    1663.2508630634816
],
[
    1592.670536963191,
    1595.4391889484782
],
[
    1638.1473199911907,
    1552.846309175503
],
[
    1422.0758995057831,
    1784.6204924965605
],
[
    1494.3645098037841,
    1729.3396032766677
],
[
    1541.5172179657966,
    1683.5473286558017
],
[
    1600.5603793435948,
    1613.786688063367
]]
generate_scene(list)
